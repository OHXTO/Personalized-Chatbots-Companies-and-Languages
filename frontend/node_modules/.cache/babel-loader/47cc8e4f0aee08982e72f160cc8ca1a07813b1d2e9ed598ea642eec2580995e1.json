{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tiger\\\\Desktop\\\\Personalized-Chatbots-Companies-and-Languages-main\\\\frontend\\\\src\\\\components\\\\Chatbox.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://127.0.0.1:5000\";\nexport default function Chatbox() {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  async function ask() {\n    const q = message.trim();\n    if (!q) return;\n    setLoading(true);\n    setError(\"\");\n    setAnswer(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/api/chat`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          message: q\n        })\n      });\n      if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`HTTP ${res.status}: ${text}`);\n      }\n      const data = await res.json();\n      setAnswer(data.answer || \"\");\n    } catch (e) {\n      setError(e.message || \"Request failed\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: \"40px auto\",\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: 28,\n        fontWeight: 700,\n        marginBottom: 12\n      },\n      children: \"Catholic Health Q&A (Demo)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginBottom: 16\n      },\n      children: \"Ask a question about the company. The backend answers using the provided materials.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        onKeyDown: e => {\n          if (e.key === \"Enter\") ask();\n        },\n        placeholder: \"e.g., What is Catholic Health's mission?\",\n        style: {\n          flex: 1,\n          padding: 12,\n          borderRadius: 8,\n          border: \"1px solid #ccc\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: ask,\n        disabled: loading,\n        style: {\n          padding: \"12px 16px\",\n          borderRadius: 8,\n          border: \"1px solid #ccc\",\n          cursor: loading ? \"not-allowed\" : \"pointer\"\n        },\n        children: loading ? \"Asking...\" : \"Ask\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        color: \"crimson\"\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), answer && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        padding: 16,\n        border: \"1px solid #eee\",\n        borderRadius: 12,\n        whiteSpace: \"pre-wrap\",\n        lineHeight: 1.5\n      },\n      children: answer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Chatbox, \"UamglqTjqG8Qd+Tf/vIVwydjMPw=\");\n_c = Chatbox;\nvar _c;\n$RefreshReg$(_c, \"Chatbox\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API_BASE","Chatbox","_s","message","setMessage","answer","setAnswer","loading","setLoading","error","setError","ask","q","trim","res","fetch","method","headers","body","JSON","stringify","ok","text","Error","status","data","json","e","style","maxWidth","margin","padding","children","fontSize","fontWeight","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","value","onChange","target","onKeyDown","key","placeholder","flex","borderRadius","border","onClick","disabled","cursor","marginTop","color","whiteSpace","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/Tiger/Desktop/Personalized-Chatbots-Companies-and-Languages-main/frontend/src/components/Chatbox.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://127.0.0.1:5000\";\r\n\r\nexport default function Chatbox() {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  async function ask() {\r\n    const q = message.trim();\r\n    if (!q) return;\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setAnswer(\"\");\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/chat`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ message: q }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(`HTTP ${res.status}: ${text}`);\r\n      }\r\n\r\n      const data = await res.json();\r\n      setAnswer(data.answer || \"\");\r\n    } catch (e) {\r\n      setError(e.message || \"Request failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: \"40px auto\", padding: 16 }}>\r\n      <h1 style={{ fontSize: 28, fontWeight: 700, marginBottom: 12 }}>\r\n        Catholic Health Q&amp;A (Demo)\r\n      </h1>\r\n\r\n      <p style={{ marginBottom: 16 }}>\r\n        Ask a question about the company. The backend answers using the provided\r\n        materials.\r\n      </p>\r\n\r\n      <div style={{ display: \"flex\", gap: 8 }}>\r\n        <input\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") ask();\r\n          }}\r\n          placeholder=\"e.g., What is Catholic Health's mission?\"\r\n          style={{\r\n            flex: 1,\r\n            padding: 12,\r\n            borderRadius: 8,\r\n            border: \"1px solid #ccc\",\r\n          }}\r\n        />\r\n        <button\r\n          onClick={ask}\r\n          disabled={loading}\r\n          style={{\r\n            padding: \"12px 16px\",\r\n            borderRadius: 8,\r\n            border: \"1px solid #ccc\",\r\n            cursor: loading ? \"not-allowed\" : \"pointer\",\r\n          }}\r\n        >\r\n          {loading ? \"Asking...\" : \"Ask\"}\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{ marginTop: 16, color: \"crimson\" }}>\r\n          Error: {error}\r\n        </div>\r\n      )}\r\n\r\n      {answer && (\r\n        <div\r\n          style={{\r\n            marginTop: 16,\r\n            padding: 16,\r\n            border: \"1px solid #eee\",\r\n            borderRadius: 12,\r\n            whiteSpace: \"pre-wrap\",\r\n            lineHeight: 1.5,\r\n          }}\r\n        >\r\n          {answer}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}